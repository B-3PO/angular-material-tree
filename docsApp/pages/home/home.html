<div layout="row">
  <div layout="column" flex>
    <input type="search" style="line-height: 48px; padding-left: 16px; border: none; outline: none;" placeholder="Search..." ng-model="searchTerm" />


    <md-tree ng-model="vm.selectedItems" restrict-selection="depth" flex>
      <md-branch branch-repeat="location in $mdBranchFilter(vm.locationData, searchTerm) | orderBy: location.name" class="md-2-line" select hide-checkbox>
        <div class="md-branch-text">
          <h3>{{location.name}}</h3>
          <p>Location</p>
        </div>

        <md-branch branch-repeat="menu in $mdBranchFilter(location.menus, searchTerm) | orderBy: menu.name" class="md-2-line" select>
          <div class="md-branch-text">
            <h3>{{menu.name}}</h3>
            <p>Menu</p>
          </div>

          <md-branch branch-repeat="item in $mdBranchFilter(menu.items, searchTerm) | orderBy: item.name" class="md-2-line" select>
            <div class="md-branch-text">
              <h3>{{item.name}}</h3>
              <p>Item</p>
            </div>
          </md-branch>
        </md-branch>
      </md-branch>
    </md-tree>



    <!-- <md-tree ng-model="vm.selectedItems" restrict-selection="depth" flex>
      <md-branch branch-repeat="location in vm.locationData | filter: $mdBranchFilter(searchTerm) | orderBy: location.name" class="md-2-line" select hide-checkbox>
        <div class="md-branch-text">
          <h3>{{location.name}}</h3>
          <p>Location</p>
        </div>
      </md-branch>
    </md-tree> -->


  </div>

  <div class="master-panel closed">
    <h4 style="width: 120px; margin: 0 auto; padding-top: 16px;">Master Panel</h4>
  </div>

  <div style="width: 420px; padding: 0 16px; border-left: 1px solid #ccc; height: 100%; z-index: 99; background: #EEE;">
    <h2>Tree Component v0.0.2</h2>
    <a href="/components/tree/v0">version 0</a>
    <a href="/components/tree/v1">version 1</a>
    <p><b>Whats new</b></p>
    <p>Keyboard Controls</p>
    <div marked>
    <table>
<thead>
<tr>
<th style="text-align:left">Key</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><span ng-non-bindable=""><code>Down Arrow</code></span></td>
<td style="text-align:left">focus on next visible branch</td>
</tr>
<tr>
<td style="text-align:left"><span ng-non-bindable=""><code>Up Arrow</code></span></td>
<td style="text-align:left">focus on previous visible branch</td>
</tr>
<tr>
<td style="text-align:left"><span ng-non-bindable=""><code>Right Arrow</code></span></td>
<td style="text-align:left">If current focused branch is closed then open it, otherwise focus on next branch</td>
</tr>
<tr>
<td style="text-align:left"><span ng-non-bindable=""><code>Left Arrow</code></span></td>
<td style="text-align:left">If current focused branch is open then close it, otherwise focus on previous branch</td>
</tr>
<tr>
<td style="text-align:left"><span ng-non-bindable=""><code>Enter</code></span></td>
<td style="text-align:left">Selection toggle. This will deselect all previous selections</td>
</tr>
<tr>
<td style="text-align:left"><span ng-non-bindable=""><code>Space</code></span></td>
<td style="text-align:left">Same as <span ng-non-bindable=""><code>Enter</code></span></td>
</tr>
<tr>
<td style="text-align:left"><span ng-non-bindable=""><code>Shift+Enter</code></span></td>
<td style="text-align:left">Multi select. This will toggle focused branches selection without deselecting previous selections</td>
</tr>
<tr>
<td style="text-align:left"><span ng-non-bindable=""><code>Shift+Space</code></span></td>
<td style="text-align:left">Same as <span ng-non-bindable=""><code>Shift+Enter</code></span></td>
</tr>
</tbody>
</table>
</div>
    <p>
      You can leave comments about the tree here<br />
      <a href="https://bypassmobile.atlassian.net/wiki/display/PROD/Tree+live+demo">Confluence Doc Link</a>
    </p>
    <p>Have Fun :)</p>
    <h3>Selected Items ({{vm.selectedItems.length}})</h3>
    <p ng-repeat="item in vm.selectedItems">{{item.name}}</p>
  </div>
</div>

<style>
  .master-panel {
    position: relative;
    width: 120px;
    right: 0;
    padding: 0 16px;
    border-left: 1px solid #ccc;
    height: 100%;
    background:rgb(244, 223, 255);
    transition: all 0.2s linear;
    z-index: 98;
    overflow: hidden;
  }

  .master-panel.closed {
    width: 0;
    padding: 0;
    border: none;
  }
</style>


<!-- <md-list>
  <md-list-item ng-repeat="location in vm.locationData">
    <div class="md-list-item-text">
      <h3>{{location.name}}</h3>
      <p>Location</p>
    </div>

    <md-list-item ng-repeat="menu in location.menus">
      <div class="md-list-item-text">
        <h3>{{location.name}}</h3>
        <p>Location</p>
      </div>
    </md-list-item>
  </md-list-item>
</md-list> -->

<!-- <md-tree>

  <md-branch ng-repeat="location in vm.treeData">
    <md-branch-item>
      <md-branch-arrow></md-branch-arrow>
      <md-checkbox ng-model="location.selected"></md-checkbox>
      <div class="md-list-item-text" layout="column">
        <h3>{{location.title}}</h3>
        <p>subtitle</p>
      </div>
      <md-icon class="md-secondary" ng-click="null">edit</md-icon>
    </md-branch-item>



    <md-branch-expanded>

      <md-branch ng-repeat="menu in location.menus">
        <md-branch-item>
          <md-branch-arrow></md-branch-arrow>
          <md-checkbox ng-model="menu.selected"></md-checkbox>
          <div class="md-list-item-text" layout="column">
            <h3>{{menu.title}}</h3>
            <p>subtitle</p>
          </div>
          <md-icon class="md-secondary" ng-click="null">edit</md-icon>
        </md-branch-item>


        <md-branch-expanded>

          <md-branch ng-repeat="item in menu.items">
            <md-branch-item>
              <md-checkbox ng-model="menu.selected"></md-checkbox>
              <div class="md-list-item-text" layout="column">
                <h3>{{menu.title}}</h3>
                <p>subtitle</p>
              </div>
              <md-icon class="md-secondary" ng-click="null">edit</md-icon>
            </md-branch-item>
          </md-branch>

        </md-branch-expanded>
      </md-branch>

    </md-branch-expanded>
  </md-branch>

</md-tree>







<md-tree md-data="vm.treeData">

  <md-branch-templates data-label="item">
    <md-branch name="location">
      <md-branch-arrow></md-branch-arrow>
      <md-checkbox ng-model="item.selected"></md-checkbox>
      <div class="md-list-item-text" layout="column">
        <h3>{{item.title}}</h3>
        <p>subtitle</p>
      </div>
      <md-icon class="md-secondary" ng-click="null">edit</md-icon>
    </md-branch>

    <md-branch name="menu">
      <md-branch-arrow></md-branch-arrow>
      <md-checkbox ng-model="item.selected"></md-checkbox>
      <div class="md-list-item-text" layout="column">
        <h3>{{item.title}}</h3>
        <p>subtitle</p>
      </div>
      <md-icon class="md-secondary" ng-click="null">edit</md-icon>
    </md-branch>

    <md-branch name="item">
      <md-branch-arrow></md-branch-arrow>
      <md-checkbox ng-model="item.selected"></md-checkbox>
      <div class="md-list-item-text" layout="column">
        <h3>{{item.title}}</h3>
        <p>subtitle</p>
      </div>
      <md-icon class="md-secondary" ng-click="null">edit</md-icon>
    </md-branch>
  </md-branch-templates>





  <md-branch template="location" ng-repeat="location in vm.treeData" ng-if="vm.root === 'location'">
    <md-branch template="menu" ng-repeat="menue in location.menus">
      <md-branch template="item" ng-repeat="menu_item in menue.menu_item"></md-branch>
    </md-branch>
    <md-branch template="item" ng-repeat="items in location.items"></md-branch>
  </md-branch>

  <md-branch template="menu" ng-repeat="menus in vm.menus" ng-if="vm.root === 'menus'">
    <md-branch template="item" md-data="menu.menu_item"></md-branch>
  </md-branch>

  <md-branch name="item" ng-repeat="item in vm.items" ng-if="vm.root === 'items'"></md-branch>

</md-tree> -->
